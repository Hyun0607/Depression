# 🧠 개인 특성 기반 우울증 예측 모델링 (R)

## 🎯 프로젝트 개요

- 다양한 개인 특성(나이, 음주, 식습관, 수면 패턴 등)을 바탕으로 **우울증 경험 여부(History of Depression)** 를 예측하는 분류 모델 구축
- 의료 및 복지 서비스에서 고위험군 사전 식별을 위한 **데이터 기반 접근의 가능성** 제시
- 데이터 전처리부터 모델 성능 비교까지 **R 기반 전체 파이프라인** 구현

---

## 🛠️ 담당 역할

| 이름 | 역할 |
|------|------|
| **정현우** | 데이터 EDA 및 전처리, 변수 변환 로직 구현, 불균형 데이터 조정 및 시각화 |
| **변지민** | 모델링 기획 및 구현, 혼동행렬을 이용한 모델 평가 및 최종 모델 구축 |

- `fread` + `dplyr` 기반 전처리 파이프라인 구성
- 나이/소득 범주화, 문자열 인코딩(라벨/원핫), 불균형 조정(SMOTE 아님)
- 시각화: `ggplot2` 기반 변수 분포 및 클래스 비율 시각화

---

## ⚙️ 전체 흐름

1. **데이터 불균형 조정**
   - 우울증 경험 비율: Yes/No 간 불균형 → 70:30 비율로 리샘플링
2. **범주형 변수 변환**
   - 나이 → 청년/중년/노년
   - 소득 → 사분위 기준으로 저소득/중소득/고소득
   - 기타 변수 → 라벨 인코딩 + 원핫 인코딩 혼합 적용
3. **분석용 변수 선택**
   - 공선성 확인 후 다중 공선성 변수 제거 (VIF)
   - 최적 feature subset 구성

---

## 📊 모델링 및 성능 비교

| 모델 | 주요 특징 | 성능 |
|------|-----------|------|
| **로지스틱 회귀** | 변수 해석력 우수, 기준선 모델 | AUC 기준 비교용 |
| **의사결정나무 (rpart)** | 분류 기준 시각화, 간단한 규칙 도출 가능 | xerror 기반 가지치기 |
| **랜덤 포레스트** | 변수 중요도 도출 가능, 높은 예측 성능 | Accuracy 향상 |

> 📈 최종 ROC Curve 및 Confusion Matrix로 모델 성능 비교

---

## 🌐 시각화 예시

- 변수 분포 시각화

<p align="center">
  <img src="./ppt_extract/ppt/media/image1.png" width="400"/>
  <img src="./ppt_extract/ppt/media/image2.png" width="400"/>
</p>

- 모델 해석 시각화

<p align="center">
  <img src="./ppt_extract/ppt/media/image3.png" width="400"/>
  <img src="./ppt_extract/ppt/media/image4.png" width="400"/>
</p>

---

## 🧾 주요 성과

- 다양한 전처리/분석 기법을 실습 환경에서 직접 구현
- 라벨링/범주화/샘플링 전략의 성능 영향을 실험적으로 검토
- 모델별 성능/복잡도/해석력 균형을 고려한 평가

---

## 💡 향후 개선 방향

- SMOTE 등 오버샘플링 기반의 고도화된 불균형 처리 적용
- Shiny를 활용한 대시보드 기반 우울증 예측 UI 설계
- 실제 설문 기반 변수 수집 및 시계열적 데이터 확장

